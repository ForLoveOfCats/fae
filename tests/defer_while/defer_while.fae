import fae::stdout::print_isize, print_string, print_newline

fn main() {
	breaks(false)
	print_newline()
	breaks(true)

	print_newline()
	print_newline()
	print_newline()

	continues(false)
	print_newline()
	continues(true)
}

fn breaks(early_break: bool) {
	print_string("A\n")
	defer print_string("1\n")

	mut index: isize = 0
	while index < 3 {
		defer index += 1
		defer print_string("2\n")

		if early_break => break

		print_string("iteration ")
		print_isize(index)
		print_newline()

		defer print_string("3\n")
	}

	print_string("B\n")
	defer print_string("4\n")
	print_string("C\n")
}

fn continues(early_continue: bool) {
	print_string("A\n")
	defer print_string("1\n")

	mut index: isize = 0
	while index < 3 {
		defer index += 1
		defer print_string("2\n")

		if early_continue and index == 1 => break

		print_string("iteration ")
		print_isize(index)
		print_newline()

		defer print_string("3\n")
	}

	print_string("B\n")
	defer print_string("4\n")
	print_string("C\n")
}
